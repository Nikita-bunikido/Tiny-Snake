main(){
    char ______[20*20],_,__,l=2,___,____=rand()%20,_____=rand()%20;
    struct Q{char x,y;}Q[20*20]={0};
    for(;;){
        Sleep(50);
        system("\x63\x6C\x73\0");
        _=(_+=(___==0)?1:(___==2)?-1:0),(_=(_<0)?19:(_>20)?0:_);
        __=(__+=(___==1)?1:(___==3)?-1:0),(__=(__<0)?19:(__>20)?0:__);
        Q[l-1]=(struct Q){.x=_,.y=__};
        for(int i=0;i<l-1;Q[i]=Q[i+1],i++);
        (_==____&&__==_____)?(____=rand()%20,_____=rand()%20,Q[l++-1]=(struct Q){_,__}):(struct Q){__,_};
        memset(______,' ',sizeof(______));
        for(int i=0;(GetKeyState((long[4]){VK_RIGHT,VK_DOWN,VK_LEFT,VK_UP}[i])&0x8000)?(___=i):~1<<1,i<4;i++);
        for(int i=0;i<l;i++)
            ______[Q[i].x+20*Q[i].y]='#';
        ______[_+__*20]=(char)(______[____+_____*20]=(char)42)+'E';
        for(int i=0;i<20;fwrite(______+i*20,1,20,stdout),putchar('\xA'),i++);
    }
}
